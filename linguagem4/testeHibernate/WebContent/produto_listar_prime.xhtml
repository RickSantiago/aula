<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://xmlns.jcp.org/jsf/html"
		xmlns:f="http://xmlns.jcp.org/jsf/core"
		xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
		xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/layout.xhtml">
	<ui:define name="content">
	    <h:form>
	    		<p:commandLink value="Início" action="index"/><br></br>

				<h:outputText value="Lista de produtos"/>
	    		<h:commandButton value="Atualizar" action="#{produtosManager.listar}">
	    			<f:ajax execute="@form" render="lista"></f:ajax>
	    		</h:commandButton>
	    		<h:panelGroup id="lista">
				    <p:dataTable var="prod" value="#{produtosManager.produtos}">  
				        <p:column headerText="Nome">  
				            <h:outputText value="#{prod.nome}" />  
				        </p:column>  
				        
				        <p:column headerText="Descrição">  
				            <h:outputText value="#{prod.descricao}" />  
				        </p:column>  
				  
				        <p:column headerText="Preço">  
				            <h:outputText value="#{prod.preco}" />  
				        </p:column>  
				  	</p:dataTable>
				</h:panelGroup>
	    </h:form>
	</ui:define>
</ui:composition>
</html>